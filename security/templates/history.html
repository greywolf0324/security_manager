{% extends 'layouts/base.html' %}

{% block content %}

<div class="table-responsive container mt-5">
  <div  style="display: flex; gap: 60px; margin-left: 40px">
    <div class="col-3">
      <label class="form-label">Filter</label>
      <select class="form-select" id="filter-option" name="filter-option">
        <option value="" disabled selected>select filter</option>
        <option>Customer Name</option>
        <option>User Name</option>
      </select>
    </div>

    <!-- <div>
      <label class="form-label">Order</label>
      <select class="form-select" id="filter-option" name="filter-option">
        <option value="">plus</option>
        <option>minus</option>
      </select>
    </div> -->
    
  </div>
  <div class="mt-4">
    <table class="table" id="history">
      <thead>
        <tr>
          <th></th>
          <th>Customer Name</th>
          <th>User Name</th>
          <th>
            Creation Date
          </th>
          <th>PO Date</th>
          <th></th>
        </tr>
      </thead>

      {% if histories != "empty" %}
      <tbody>
        {% for history in histories %}
        <tr>
          <td><input type="checkbox" id="checkbox" name="checkbox"></td>
          <td>{{ history.0 }}</td>
          <td>{{ history.1 }}</td>
          <td>{{ history.2 }}</td>
          <td>{{ history.3 }}</td>
          <td>
            <form method="post">
              {% csrf_token %}
              <a type="submit" class="btn btn-primary" href="{% url 'security:history_view' history.2 %}"
                id="history_viewer">View</a>
            </form>
          </td>

        </tr>
        {% endfor %}
      </tbody>
      {% endif %}
    </table>
  </div>
</div>

<script>
  console.log("{{ real }}", "____")
  console.log("{{ history }}", "____")
  console.log("{{ new.0.output }}", "____")
</script>
  {% endblock %}